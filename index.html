<script src="diff.js"></script>
<script>

function lg(s) { return console.log(s), s; }
function showDiff(df) {
	for (var i = 0, d; d = df[i]; ++i) {
		var s = !d[0]
			? ' '
			: d[0] > 0
				? '+'
				: '-';
		lg(
			'['+
			(d[1] === null ? ' ' : d[1]+1)+' '+
			(d[2] === null ? ' ' : d[2]+1)+
			'] '+s+s+' '+d[3]);
	}
	lg('-----------')
}

function arrayEquals( a, b ) {
	if ( a === b ) {
		return true;
	}
	if ( a.length !== undefined ) {
		for ( var i = a.length - 1; i >= 0; --i ) {
			if ( !arrayEquals( a[ i ], b[ i ] ) ) {
				return false;
			}
		}
		return a.length === b.length;
	}
	return false;
}

console.log(
	arrayEquals(
		diff(
			"012",
			"01"
		), [
			[  0, 0,    0, "0" ],
			[  0, 1,    1, "1" ],
			[ -1, 2, null, "2" ]
		]
	)
);

console.log(
	arrayEquals(
		diff(
			"XMJYAUZ",
			"MAJAWXUA"
		), [
			[ -1,    0, null, "X" ],
			[  0,    1,    0, "M" ],
			[  1, null,    1, "A" ],
			[  0,    2,    2, "J" ],
			[ -1,    3, null, "Y" ],
			[  0,    4,    3, "A" ],
			[  1, null,    4, "W" ],
			[  1, null,    5, "X" ],
			[  0,    5,    6, "U" ],
			[ -1,    6, null, "Z" ],
			[  1, null,    7, "A" ]
		]
	)
);

console.log(
	arrayEquals(
		diff(
			"thomas",
			"misty thomas"
		), [
			[ +1, null,  0, "m" ],
			[ +1, null,  1, "i" ],
			[ +1, null,  2, "s" ],
			[  0,    0,  3, "t" ],
			[ +1, null,  4, "y" ],
			[ +1, null,  5, " " ],
			[ +1, null,  6, "t" ],
			[  0,    1,  7, "h" ],
			[  0,    2,  8, "o" ],
			[  0,    3,  9, "m" ],
			[  0,    4, 10, "a" ],
			[  0,    5, 11, "s" ]
		]
	)
);

</script>
